<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>How computers work</title>
  <link href="css/bootstrap.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <script src="js/jquery-3.6.0.min.js"></script>
  <script src="js/createjs.min.js"></script>
  <script type="text/javascript">

  </script>
</head>
<body>
  <!--<div><img src="img/title.png" class="banner"></div>-->

  <div>
    <canvas id="circuit-canvas-1" width="1000" height="500"></canvas>
  </div>
  <div id="spacer" style="float: left; "></div>
  <div id="pres">
    <div id="pres-1">
      <div class="header">Binary numbers</div>
      <center>
        <div>
          <table><tr><td>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">0</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">1</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">2</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">3</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">4</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">5</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">6</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">7</span>
            </div>
          </td><td style="padding-left: 100px">
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">8</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">9</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">10</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">11</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">12</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">13</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-off.png">
                <span class="binNumber">14</span>
            </div>
            <div class="bin-row">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <img class="small-light" src="img/light-on.png">
                <span class="binNumber">15</span>
            </div>
          </td></tr>
          </table>
        </div>

        <button class="btn btn-secondary" onclick="nextSlide(2);">Next</button>
      </center>
    </div>


    <div id="pres-2" style="display: none">
      <div class="header">Addition</div>
      <center>
        <div>
          <table>
            <tr>
              <td>
                <div>
                  <span class="binNumber cell-num"> </span>
                  <span id="dc1" class="binNumber cell-num carry-num" onclick="$('#dc1').css('color', 'black')">1</span>
                  <span id="dc2" class="binNumber cell-num carry-num" onclick="$('#dc2').css('color', 'black')">1</span>
                  <span class="binNumber cell-num carry-num"> </span>
                </div>
                <div>
                  <span class="binNumber cell-num"> </span>
                  <span class="binNumber cell-num">3</span>
                  <span class="binNumber cell-num">5</span>
                  <span class="binNumber cell-num">7</span>
                </div>
                <di style="border-bottom: 1px solid black;">
                  <span class="binNumber cell-num">+</span>
                  <span class="binNumber cell-num">1</span>
                  <span class="binNumber cell-num">4</span>
                  <span class="binNumber cell-num">4</span>
                </div>
                <div>
                  <span class="binNumber cell-num"> </span>
                  <span id="ds1" class="binNumber cell-num carry-num" onclick="$('#ds1').css('color', 'black')">5</span>
                  <span id="ds2" class="binNumber cell-num carry-num" onclick="$('#ds2').css('color', 'black')">0</span>
                  <span id="ds3" class="binNumber cell-num carry-num" onclick="$('#ds3').css('color', 'black')">1</span>
                </div>
              </td>
              <td style="padding-left: 100px">
                <div>
                  <span class="binNumber cell-num carry-num" onclick="$('#bc2').css('opacity', 1)"><img id="bc2"  class="small-light" src="img/light-on.png" style="opacity: 0"></span>
                  <span class="binNumber cell-num carry-num" onclick="$('#bc1').css('opacity', 1)"><img id="bc1"  class="small-light" src="img/light-on.png" style="opacity: 0"></span>
                  <span class="binNumber cell-num carry-num"> </span>
                  <span class="binNumber cell-num carry-num"> </span>
                  <span class="binNumber cell-num carry-num"> </span>
                </div>
                <div>
                  <span class="binNumber cell-num"> </span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-on.png"></span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-on.png"></span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-on.png"></span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-off.png"></span>
                  <span class="binNumber cell-num">14</span>
                </div>
                <di style="border-bottom: 1px solid black;">
                  <span class="binNumber cell-num">+</span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-on.png"></span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-on.png"></span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-off.png"></span>
                  <span class="binNumber cell-num"><img class="small-light" src="img/light-on.png"></span>
                  <span class="binNumber cell-num">13</span>
                </div>
                <div>
                  <span class="binNumber cell-num carry-num" onclick="$('#bs1').css('opacity', 1)"><img id="bs1"  class="small-light" src="img/light-on.png" style="opacity: 0"></span>
                  <span class="binNumber cell-num carry-num" onclick="$('#bs2').css('opacity', 1)"><img id="bs2"  class="small-light" src="img/light-on.png" style="opacity: 0"></span>
                  <span class="binNumber cell-num carry-num" onclick="$('#bs3').css('opacity', 1)"><img id="bs3"  class="small-light" src="img/light-off.png" style="opacity: 0"></span>
                  <span class="binNumber cell-num carry-num" onclick="$('#bs4').css('opacity', 1)"><img id="bs4"  class="small-light" src="img/light-on.png" style="opacity: 0"></span>
                  <span class="binNumber cell-num carry-num" onclick="$('#bs5').css('opacity', 1)"><img id="bs5"  class="small-light" src="img/light-on.png" style="opacity: 0"></span>
                  <span id="bs6" class="binNumber cell-num carry-num" onclick="$('#bs6').css('color', 'black')">27</span>
                </div>
              </td>
            </tr>
          </table>




        </div>

        <br><br><br>
        <button class="btn btn-secondary" onclick="nextSlide(3);">Next</button>
      </center>
    </div>
    
    <div id="pres-3" style="display: none">
      <div class="header">Abstraction</div>
      <center>
        <div style="margin-top: 250px; margin-bottom: 250px;font-size: 40pt;">
          A concept that elegantly hides information

        </div>

        <button class="btn btn-secondary" onclick="dissectSlide(4);">Dissect</button>
      </center>
    </div>


    <div id="pres-4" style="display: none">
      <!--<div class="header">Adder</div>-->
      <center>

        <div>
          <canvas id="pres-4-canvas"></canvas>
        </div>


        <button id="dissect-btn-4" class="btn btn-secondary" onclick="dissectSlide(5);">Dissect</button>


      </center>
    </div>

  </div>


</body>
<script src="js/circuit.js"></script>
<script src="js/pres.js"></script>
<script type="text/javascript">
  jumpSlide(1, 4, 0);
</script>
<script type="text/javascript">

function launch(func, initScale){ 
  const canvasId = "pres-4-canvas";
  const CANVAS = document.getElementById(canvasId);

  CANVAS.width = $(window).width();
  CANVAS.height = $(window).height() - 100;//$("#dissect-btn-4").height();

  const stage = new createjs.Stage(canvasId);
  stage.enableMouseOver();

  const rootContainer = new createjs.Container();


  const board = func(stage);

  board.container.x = -board.width / 2;
  board.container.y = -board.height / 2;
 



        const dragSurface = new createjs.Shape();
        dragSurface
            .graphics
            .beginFill("white")
            .drawRect(0, 0, CANVAS.width, CANVAS.height)

stage.addChild(dragSurface);

  rootContainer.addChild(board.container);


const camera = new Camera(stage, rootContainer, CANVAS, dragSurface, initScale);




stage.addChild(rootContainer);




stage.update();


const children = recur(stage);

// https://stackoverflow.com/questions/54398197/mouse-click-through-top-image
stage.on("stagemouseup", function(event) {

    var objs = stage.getObjectsUnderPoint(event.stageX, event.stageY);

    //console.log(objs)

    if (objs.length == 0) {
        return;
    }


    //objs[0].rmCover();
    //return objs[0];
    const c = objs[0];
    //console.log(c.name)

    if (!c.name) {
        return;
    }


    console.log(c.name)


    if (c.name.startsWith("outline")) {
        //console.log(1)
            const [child, parent] = getStageItem(c.name, children);
            //console.log(c, child)
            parent.removeChild(child);
            stage.update();

        return;
    }

    if (!c.name.startsWith("cover-")) {
        console.log("not cover")
        return;
    }

    const [child, parent] = getStageItem(c.name + "-container", children);
    //console.log(c, child)
    parent.removeChild(child);
    stage.update();
    //console.log(objs[0]);
    return;
    /*(for (var i=0, l=objs.length; i<l; i++) {
      var obj = objs[i];
      if (obj == firstElement || obj == secondElement) { doSomething(); break; }
    }*/
});


}

/*function pres4() {
  
}
pres4();*/
launch(function(stage) {
  return new AdderBoard(stage, TRADIUS, FULL_ADDER_STROKE_WIDTH, HALF_ADDER_STROKE_WIDTH, XOR_STROKE_WIDTH, STROKE_WIDTH);
   //INIT_SCALE = 0.08;
}, 0.08)

</script>
</html>

